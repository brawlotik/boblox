local RunService = game:GetService("RunService")
local Lighting = game:GetService("Lighting")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Выключить 3D рендеринг
RunService:Set3dRenderingEnabled(false)

-- Настройки освещения (супер минимальные)
Lighting.GlobalShadows = false
Lighting.Brightness = 0
Lighting.ClockTime = 14
Lighting.FogStart = 0
Lighting.FogEnd = 100 -- резко ограничиваем отрисовку
Lighting.OutdoorAmbient = Color3.new(0, 0, 0)
Lighting.EnvironmentDiffuseScale = 0
Lighting.EnvironmentSpecularScale = 0
Lighting.ExposureCompensation = -5

-- Камера – меньше угол обзора
if workspace.CurrentCamera then
	workspace.CurrentCamera.FieldOfView = 40
end

-- Очищаем визуальные компоненты МИРА, но не персонажа игрока
local function stripVisuals(obj)
	for _, child in ipairs(obj:GetDescendants()) do
		-- Игнорируем персонажа игрока
		if LocalPlayer.Character and child:IsDescendantOf(LocalPlayer.Character) then
			continue
		end

		pcall(function()
			if child:IsA("Decal") or child:IsA("Texture") or child:IsA("SurfaceGui")
			or child:IsA("BillboardGui") or child:IsA("ParticleEmitter")
			or child:IsA("Trail") or child:IsA("Beam") or child:IsA("Highlight") then
				child:Destroy()
			elseif child:IsA("BasePart") or child:IsA("MeshPart") then
				child.Material = Enum.Material.SmoothPlastic
				child.Transparency = 1
				child.Reflectance = 0
				child.CastShadow = false
				child.CanCollide = false
			end
		end)
	end
end

-- Применяем ко всему миру
stripVisuals(workspace)

-- Удаляем UI (если нужно)
for _, ui in ipairs(LocalPlayer:WaitForChild("PlayerGui"):GetChildren()) do
	pcall(function() ui:Destroy() end)
end

-- Новые объекты в мире — чистим, кроме персонажа игрока
workspace.DescendantAdded:Connect(function(obj)
	wait(0.05)
	if LocalPlayer.Character and obj:IsDescendantOf(LocalPlayer.Character) then return end
	stripVisuals({obj})
end)

-- Игроки: персонажи НЕ трогаем
Players.PlayerAdded:Connect(function(plr)
	plr.CharacterAdded:Connect(function(char)
		wait(1)
		if plr ~= LocalPlayer then
			stripVisuals(char)
		end
	end)
end)

-- Цикл автоочистки
while true do
	wait(15)
	stripVisuals(workspace)
end
